{"ast":null,"code":"Vue.config.productionTip = false;\nVue.use(ElementUI);\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');\nimport router from './router';\nimport Vue from 'vue';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport App from './App.vue';\nimport 'font-awesome/css/font-awesome.css';\nVue.use(ElementUI, {\n  size: 'small'\n});\nVue.config.productionTip = false;\nimport store from \"./store\";\nimport { postRequest } from \"./utils/api\";\nimport { getRequest } from \"./utils/api\";\nimport { putRequest } from \"./utils/api\";\nimport { deleteRequest } from \"./utils/api\";\nimport { downloadRequest } from \"./utils/download\";\nVue.prototype.postRequest = postRequest;\nVue.prototype.getRequest = getRequest;\nVue.prototype.putRequest = putRequest;\nVue.prototype.deleteRequest = deleteRequest;\nVue.prototype.downloadRequest = downloadRequest;\nimport { initMenu } from \"./utils/menu\";\nrouter.beforeEach((to, from, next) => {\n  if (window.sessionStorage.getItem('tokenStr')) {\n    initMenu(router, store);\n    if (!window.sessionStorage.getItem('user')) {\n      // 判断用户信息是否存在\n      return getRequest('/admin/info').then(resp => {\n        if (resp) {\n          // 存入用户信息\n          window.sessionStorage.setItem('user', JSON.stringify(resp));\n          next();\n        }\n      });\n    }\n    next();\n  } else {\n    if (to.path == '/') {\n      next();\n    } else {\n      next('/?redirect=' + to.path);\n    }\n  }\n});\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');","map":{"version":3,"names":["Vue","config","productionTip","use","ElementUI","router","store","render","h","App","$mount","size","postRequest","getRequest","putRequest","deleteRequest","downloadRequest","prototype","initMenu","beforeEach","to","from","next","window","sessionStorage","getItem","then","resp","setItem","JSON","stringify","path"],"sources":["/Users/hsk/Project/Diary/web/src/main.js"],"sourcesContent":["\nVue.config.productionTip = false\nVue.use(ElementUI);\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n\nimport router from './router'\nimport Vue from 'vue';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport App from './App.vue';\nimport 'font-awesome/css/font-awesome.css'\n\nVue.use(ElementUI,{size:'small'});\nVue.config.productionTip = false\n\n\nimport store from \"./store\"\n\nimport {postRequest} from \"./utils/api\";\nimport {getRequest} from \"./utils/api\";\nimport {putRequest} from \"./utils/api\";\nimport {deleteRequest} from \"./utils/api\";\nimport {downloadRequest} from \"./utils/download\";\n\nVue.prototype.postRequest = postRequest;\nVue.prototype.getRequest = getRequest;\nVue.prototype.putRequest = putRequest;\nVue.prototype.deleteRequest = deleteRequest;\nVue.prototype.downloadRequest = downloadRequest;\nimport {initMenu} from \"./utils/menu\";\nrouter.beforeEach((to,from,next)=>{\n  if(window.sessionStorage.getItem('tokenStr')){\n    initMenu(router,store);\n    if(!window.sessionStorage.getItem('user')){\n      // 判断用户信息是否存在\n      return getRequest('/admin/info').then(resp=>{\n        if(resp){\n          // 存入用户信息\n          window.sessionStorage.setItem('user',JSON.stringify(resp));\n          next();\n        }\n      })\n    }\n    next();\n  }else{\n    if(to.path == '/'){\n      next();\n    }else{\n      next('/?redirect='+to.path);\n    }\n  }\n})\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n\n"],"mappings":"AACAA,GAAG,CAACC,MAAM,CAACC,aAAa,GAAG,KAAK;AAChCF,GAAG,CAACG,GAAG,CAACC,SAAS,CAAC;AAElB,IAAIJ,GAAG,CAAC;EACNK,MAAM;EACNC,KAAK;EACLC,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACC,GAAG;AACpB,CAAC,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC;AAEjB,OAAOL,MAAM,MAAM,UAAU;AAC7B,OAAOL,GAAG,MAAM,KAAK;AACrB,OAAOI,SAAS,MAAM,YAAY;AAClC,OAAO,sCAAsC;AAC7C,OAAOK,GAAG,MAAM,WAAW;AAC3B,OAAO,mCAAmC;AAE1CT,GAAG,CAACG,GAAG,CAACC,SAAS,EAAC;EAACO,IAAI,EAAC;AAAO,CAAC,CAAC;AACjCX,GAAG,CAACC,MAAM,CAACC,aAAa,GAAG,KAAK;AAGhC,OAAOI,KAAK,MAAM,SAAS;AAE3B,SAAQM,WAAW,QAAO,aAAa;AACvC,SAAQC,UAAU,QAAO,aAAa;AACtC,SAAQC,UAAU,QAAO,aAAa;AACtC,SAAQC,aAAa,QAAO,aAAa;AACzC,SAAQC,eAAe,QAAO,kBAAkB;AAEhDhB,GAAG,CAACiB,SAAS,CAACL,WAAW,GAAGA,WAAW;AACvCZ,GAAG,CAACiB,SAAS,CAACJ,UAAU,GAAGA,UAAU;AACrCb,GAAG,CAACiB,SAAS,CAACH,UAAU,GAAGA,UAAU;AACrCd,GAAG,CAACiB,SAAS,CAACF,aAAa,GAAGA,aAAa;AAC3Cf,GAAG,CAACiB,SAAS,CAACD,eAAe,GAAGA,eAAe;AAC/C,SAAQE,QAAQ,QAAO,cAAc;AACrCb,MAAM,CAACc,UAAU,CAAC,CAACC,EAAE,EAACC,IAAI,EAACC,IAAI,KAAG;EAChC,IAAGC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,EAAC;IAC3CP,QAAQ,CAACb,MAAM,EAACC,KAAK,CAAC;IACtB,IAAG,CAACiB,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,EAAC;MACxC;MACA,OAAOZ,UAAU,CAAC,aAAa,CAAC,CAACa,IAAI,CAACC,IAAI,IAAE;QAC1C,IAAGA,IAAI,EAAC;UACN;UACAJ,MAAM,CAACC,cAAc,CAACI,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,CAAC;UAC1DL,IAAI,EAAE;QACR;MACF,CAAC,CAAC;IACJ;IACAA,IAAI,EAAE;EACR,CAAC,MAAI;IACH,IAAGF,EAAE,CAACW,IAAI,IAAI,GAAG,EAAC;MAChBT,IAAI,EAAE;IACR,CAAC,MAAI;MACHA,IAAI,CAAC,aAAa,GAACF,EAAE,CAACW,IAAI,CAAC;IAC7B;EACF;AACF,CAAC,CAAC;AACF,IAAI/B,GAAG,CAAC;EACNK,MAAM;EACNC,KAAK;EACLC,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACC,GAAG;AACpB,CAAC,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
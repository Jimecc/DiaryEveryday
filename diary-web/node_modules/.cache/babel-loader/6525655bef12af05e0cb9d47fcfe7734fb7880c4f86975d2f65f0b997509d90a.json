{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport FilesManagement from \"@/components/FilesManagement.vue\";\nexport default {\n  name: \"EditDiaryView\",\n  props: {\n    diary_id: String\n  },\n  components: {\n    FilesManagement\n  },\n  data() {\n    return {\n      toolbars: {\n        bold: true,\n        // 粗体\n        italic: true,\n        // 斜体\n        header: true,\n        // 标题\n        underline: true,\n        // 下划线\n        strikethrough: true,\n        // 中划线\n        mark: true,\n        // 标记\n        superscript: true,\n        // 上角标\n        subscript: true,\n        // 下角标\n        quote: true,\n        // 引用\n        ol: true,\n        // 有序列表\n        ul: true,\n        // 无序列表\n        link: true,\n        // 链接\n        imagelink: true,\n        // 图片链接\n        code: false,\n        // code\n        table: true,\n        // 表格\n        fullscreen: true,\n        // 全屏编辑\n        readmodel: true,\n        // 沉浸式阅读\n        htmlcode: true,\n        // 展示html源码\n        help: true,\n        // 帮助\n        /* 1.3.5 */\n        undo: true,\n        // 上一步\n        redo: true,\n        // 下一步\n        trash: true,\n        // 清空\n        save: true,\n        // 保存（触发events中的save事件）\n        /* 1.4.2 */\n        navigation: true,\n        // 导航目录\n        /* 2.1.8 */\n        alignleft: true,\n        // 左对齐\n        aligncenter: true,\n        // 居中\n        alignright: true,\n        // 右对齐\n        /* 2.2.1 */\n        subfield: true,\n        // 单双栏模式\n        preview: true // 预览\n      },\n\n      articleForm: {\n        id: null,\n        manager_id: null,\n        title: '',\n        create_date: new Date(),\n        article: '',\n        info: '',\n        color: '',\n        weather: '',\n        score: 0,\n        collection: 0,\n        shit: 0\n      },\n      icons: {\n        collection: 'el-icon-star-off',\n        date: 'el-icon-date',\n        shit: 'el-icon-help',\n        weather: 'el-icon-cloudy-and-sunny'\n      },\n      istyle: {\n        collection: 'margin-left: 10px;width:50px;height:50px',\n        date: 'margin-left:0px',\n        shit: '',\n        weather: '',\n        colors: {\n          oragne: 'background-color: coral',\n          green: 'background-color: greenyellow',\n          purple: 'background-color: violet',\n          gray: 'background-color: gray',\n          yellow: 'background-color: yellow',\n          pure: 'background-color: #fff'\n        }\n      },\n      show: {\n        show_pic_div: false\n      },\n      value1: null,\n      value2: null,\n      value3: new Date(),\n      show_date: false,\n      show_weather: false,\n      drawer: false,\n      article: ''\n    };\n  },\n  mounted() {\n    this.mounted_edit_diary();\n  },\n  methods: {\n    change(value, render) {\n      this.html = render;\n      this.blogInfo.blogMdContent = value;\n      this.blogInfo.blogContent = render;\n    },\n    //上传图片接口pos 表示第几个图片\n    handleEditorImgAdd(pos, $file) {\n      var formdata = new FormData();\n      formdata.append('file', $file);\n      this.$axios.post(\"http://localhost:8000/blogs/image/upload/\", formdata).then(res => {\n        var url = res.data.data;\n        this.$refs.md.$img2Url(pos, url); //这里就是引用ref = md 然后调用$img2Url方法即可替换地址\n      });\n    },\n\n    handleEditorImgDel() {\n      console.log('handleEditorImgDel'); //我这里没做什么操作，后续我要写上接口，从七牛云CDN删除相应的图片\n    },\n\n    beforeUploadHandle() {},\n    handleUploadForm(param) {\n      let formData = new FormData();\n      // 在formData中加入我们需要的参数\n      formData.append('file', param.file);\n      formData.append('diary_id', 1);\n      alert(\"xxx1\");\n      // 向后端发送数据\n      this.postRequest('/file/upload', formData).then(res => {\n        alert(\"xxx1\");\n        if (res.code === 200) {\n          this.$message.success('修改信息成功');\n        } else {\n          this.$message.success('修改信息失败');\n        }\n        this.formFileList = [];\n        this.uploadFormFileList = [];\n      });\n    },\n    click_out_without_save() {\n      this.$confirm('检测到未保存的内容，是否在离开页面前保存修改？', '确认信息', {\n        distinguishCancelAndClose: true,\n        confirmButtonText: '保存',\n        cancelButtonText: '放弃修改'\n      }).then(() => {\n        this.$message({\n          type: 'info',\n          message: '保存修改'\n        });\n        this.$store.commit('show_editor_page_false');\n      }).catch(action => {\n        this.$message({\n          type: 'info',\n          message: action === 'cancel' ? '放弃保存并离开页面' : '停留在当前页面'\n        });\n        this.$store.commit('show_editor_page_false');\n      });\n    },\n    click_show_pic_button() {\n      this.show.show_pic_div = !this.show.show_pic_div;\n    },\n    mounted_edit_diary() {\n      if (this.diary_id != '') {\n        this.getRequest('/diary/article/' + this.$route.query.did).then(resp => {\n          if (resp) {\n            // alert(JSON.stringify(resp.data.obj));\n            this.articleForm = resp.obj;\n          }\n        });\n      }\n    },\n    // 点击了日期按钮\n    click_show_date() {\n      if (this.show_date == true) {\n        this.show_date = false;\n        this.icons.date = 'el-icon-date';\n        this.istyle.date = 'margin-left:0px';\n      } else {\n        this.icons.date = 'el-icon-loading';\n        this.istyle.date = 'margin-left:0px;background-color:#cfe6ff;border:#409EFF 1px solid;color:#ff7f50';\n        this.show_date = true;\n      }\n    },\n    // 点击了天气按钮\n    click_show_weather() {\n      if (this.show_weather == true) {\n        this.show_weather = false;\n        this.icons.weather = 'el-icon-cloudy-and-sunny';\n        this.istyle.weather = '';\n      } else {\n        this.show_weather = true;\n        this.icons.weather = 'el-icon-sunny';\n        this.istyle.weather = 'background-color:#cfe6ff;border:#409EFF 1px solid;color:#ff7f50';\n      }\n    },\n    // 点击了收藏按钮\n    click_collect() {\n      this.articleForm.shit = 0;\n      this.istyle.shit = '';\n      if (this.articleForm.collection == 1) {\n        this.articleForm.collection = 0;\n        this.icons.collection = 'el-icon-star-off';\n        this.istyle.collection = '';\n      } else {\n        this.articleForm.collection = 1;\n        this.icons.collection = 'el-icon-star-on';\n        this.istyle.collection = 'background-color:#cfe6ff;border:#409EFF 1px solid;color:#ff7f50';\n      }\n    },\n    click_shit() {\n      this.articleForm.collection = 0;\n      this.istyle.collection = '';\n      this.icons.collection = 'el-icon-star-off';\n      if (this.articleForm.shit == 1) {\n        this.articleForm.shit = 0;\n        this.istyle.shit = '';\n      } else {\n        this.articleForm.shit = 1;\n        this.istyle.shit = 'background-color:#cfe6ff;border:#409EFF 1px solid;color:#ff7f50';\n      }\n    },\n    // 功能按钮\n    goBack() {\n      this.$router.push('/');\n    },\n    click_submit() {\n      this.postRequest('/diary/insert', this.articleForm).then(resp => {\n        if (resp) {\n          // alert(resp.data.code);\n          // alert(JSON.stringify(this.articleForm));\n          if (resp.data.code == 200) {\n            this.articleForm = resp.data.obj;\n            // alert(JSON.stringify(resp.data.obj));\n            // alert(resp.message);\n          }\n        }\n      });\n    },\n\n    color_orange() {\n      this.init_color();\n      this.istyle.colors.oragne = 'background-color: coral; box-shadow: 0 0 8px red;';\n      this.articleForm.color = 'coral';\n    },\n    color_green() {\n      this.init_color();\n      this.istyle.colors.green = 'background-color: greenyellow;box-shadow: 0 0 8px green;';\n      this.articleForm.color = 'greenyellow';\n    },\n    color_purple() {\n      this.init_color();\n      this.istyle.colors.purple = 'background-color: violet;box-shadow: 0 0 8px purple;';\n      this.articleForm.color = 'violet';\n    },\n    color_gray() {\n      this.init_color();\n      this.istyle.colors.gray = 'background-color: gray;   box-shadow: 0 0 8px gray;';\n      this.articleForm.color = 'gray';\n    },\n    color_yellow() {\n      this.init_color();\n      this.istyle.colors.yellow = 'background-color: yellow;box-shadow: 0 0 8px gray;';\n      this.articleForm.color = 'yellow';\n    },\n    color_pure() {\n      this.init_color();\n      this.articleForm.color = '';\n    },\n    init_color() {\n      this.istyle.colors.oragne = 'background-color: coral';\n      this.istyle.colors.green = 'background-color: greenyellow';\n      this.istyle.colors.purple = 'background-color: violet';\n      this.istyle.colors.gray = 'background-color: gray';\n      this.istyle.colors.yellow = 'background-color: yellow';\n      this.istyle.colors.pure = 'background-color: #fff';\n    },\n    click_weather(weather) {\n      this.articleForm.weather = weather;\n    }\n  }\n};","map":{"version":3,"mappings":";AAoIA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACA;QACAC;QAAA;QACA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACA;QACAC;QAAA;QACAC;MACA;;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAF;QACAG;QACAF;QACAH;MACA;MACAM;QACAJ;QACAG;QACAF;QACAH;QACAO;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MACA;MACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAxB;IACA;EACA;EACAyB;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACAC;MACA,YACAC,4DACAC;QACA;QACA;MACA;IACA;;IACAC;MACAC;IACA;;IACAC,sBACA;IACAC;MACA;MACA;MACAC;MACAA;MACAC;MACA;MACA;QACAA;QACA;UACA;QACA;UACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;QACAC;QACAC;QACAC;MACA,GACAV;QACA;UACAW;UACAC;QACA;QACA;MACA,GAEAC;QACA;UACAF;UACAC,+BACA,cACA;QACA;QACA;MACA;IAEA;IACAE;MACA;IACA;IACAC;MACA;QACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;UACA;UACA;UACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["name","props","diary_id","components","FilesManagement","data","toolbars","bold","italic","header","underline","strikethrough","mark","superscript","subscript","quote","ol","ul","link","imagelink","code","table","fullscreen","readmodel","htmlcode","help","undo","redo","trash","save","navigation","alignleft","aligncenter","alignright","subfield","preview","articleForm","id","manager_id","title","create_date","article","info","color","weather","score","collection","shit","icons","date","istyle","colors","oragne","green","purple","gray","yellow","pure","show","show_pic_div","value1","value2","value3","show_date","show_weather","drawer","mounted","methods","change","handleEditorImgAdd","formdata","post","then","handleEditorImgDel","console","beforeUploadHandle","handleUploadForm","formData","alert","click_out_without_save","distinguishCancelAndClose","confirmButtonText","cancelButtonText","type","message","catch","click_show_pic_button","mounted_edit_diary","click_show_date","click_show_weather","click_collect","click_shit","goBack","click_submit","color_orange","color_green","color_purple","color_gray","color_yellow","color_pure","init_color","click_weather"],"sourceRoot":"src/views","sources":["EditDiaryView.vue"],"sourcesContent":["<template>\n  <div class=\"div_1\">\n    <el-container>\n      <el-header>\n        <el-page-header style=\"margin-top: 25px\" content=\"编辑日记\" @back=\"goBack\"></el-page-header>\n      </el-header>\n      <el-divider>每日一记</el-divider>\n      <el-container>\n        <el-aside class=\"class-aside-out\">\n          <el-input v-model=\"articleForm.title\" minlength=\"1\" class=\"input-title\" placeholder=\"请输入文章标题\"></el-input>\n          <div style=\"margin-top: 15px;\">\n            <el-tooltip content=\"选择日期(默认今天)\" placement=\"bottom\" effect=\"light\">\n              <el-button @click=\"click_show_date\" :style=\"istyle.date\" class=\"button_4\" size=\"small\" :icon=\"icons.date\"></el-button>\n            </el-tooltip>\n            <el-tooltip content=\"天气\" placement=\"bottom\" effect=\"light\">\n              <el-button @click=\"click_show_weather\" :style=\"istyle.weather\" class=\"button_4\" size=\"small\"  :icon=\"icons.weather\"></el-button>\n            </el-tooltip>\n            <el-tooltip content=\"今天心情太好啦！收藏一下吧！\" placement=\"bottom\" effect=\"light\">\n              <el-button @click=\"click_collect\" :style=\"istyle.collection\" class=\"button_4\" size=\"small\" :icon=\"icons.collection\"></el-button>\n            </el-tooltip>\n            <el-tooltip content=\"今天心情不太行...放到厕所当厕纸吧（沉底）\" placement=\"bottom\" effect=\"light\">\n              <el-button @click=\"click_shit\" :style=\"istyle.shit\" class=\"button_4\" size=\"small\" icon=\"el-icon-toilet-paper\"></el-button>\n            </el-tooltip>\n          </div>\n\n          <!--天气-->\n          <div v-if=\"show_weather\" class=\"div_weather\">\n            <el-tooltip content=\"晴天\" placement=\"top\" effect=\"light\">\n              <el-button @click=\"click_weather('sunny')\" plain type=\"primary\" class=\"button_weather\" icon=\"el-icon-sunny\"></el-button>\n            </el-tooltip>\n            <el-tooltip content=\"多云\" placement=\"top\" effect=\"light\">\n              <el-button @click=\"click_weather('cloudy')\" plain type=\"primary\" class=\"button_weather\" icon=\"el-icon-cloudy\"></el-button>\n            </el-tooltip>\n            <el-tooltip content=\"多云转晴\" placement=\"top\" effect=\"light\">\n              <el-button @click=\"click_weather('cloudy_sunny')\" plain type=\"primary\" class=\"button_weather\" icon=\"el-icon-cloudy-and-sunny\"></el-button>\n            </el-tooltip>\n            <el-tooltip content=\"下雨啦\" placement=\"top\" effect=\"light\">\n              <el-button @click=\"click_weather('rain')\" plain type=\"primary\" class=\"button_weather\" icon=\"el-icon-heavy-rain\"></el-button>\n            </el-tooltip>\n            <el-tooltip content=\"打雷啦\" placement=\"top\" effect=\"light\">\n              <el-button @click=\"click_weather('light')\" plain type=\"primary\" class=\"button_weather\" icon=\"el-icon-lightning\"></el-button>\n            </el-tooltip>\n            <el-tooltip content=\"下雪啦\" placement=\"top\" effect=\"light\">\n              <el-button @click=\"click_weather('snow')\" plain type=\"primary\" class=\"button_weather\" icon=\"el-icon-light-rain\"></el-button>\n            </el-tooltip>\n          </div>\n          <div style=\"margin-top: 15px\">\n            <el-button size=\"small\" @click=\"color_orange\" :style=\"istyle.colors.oragne\" class=\"button_color\"></el-button>\n            <el-button size=\"small\" @click=\"color_green\"  :style=\"istyle.colors.green\"  class=\"button_color\"></el-button>\n            <el-button size=\"small\" @click=\"color_purple\" :style=\"istyle.colors.purple\" class=\"button_color\"></el-button>\n            <el-button size=\"small\" @click=\"color_gray\"   :style=\"istyle.colors.gray\"   class=\"button_color\"></el-button>\n            <el-button size=\"small\" @click=\"color_yellow\" :style=\"istyle.colors.yellow\" class=\"button_color\"></el-button>\n            <el-button size=\"small\" @click=\"color_pure\" :style=\"istyle.colors.pure\"   class=\"button_color\"></el-button>\n          </div>\n          <el-divider content-position=\"left\">给今天打个分吧</el-divider>\n          <div class=\"block\">\n            <el-rate\n                v-model=\"articleForm.score\">\n            </el-rate>\n          </div>\n          <el-divider></el-divider>\n          <div v-if=\"show_date\">\n            <el-date-picker\n                v-model=\"articleForm.create_date\"\n                type=\"date\"\n                placeholder=\"选择日期\">\n            </el-date-picker>\n            <el-divider></el-divider>\n          </div>\n          <div>\n            <el-button @click=\"click_submit\" type=\"primary\" class=\"button-submit\">提交</el-button>\n            <div style=\"display: flex;margin-top: 10px\">\n              <el-button @click=\"click_out_without_save\" type=\"danger\" plain class=\"button-submit-nosave\">不保存退出</el-button>\n              <el-button @click=\"click_out_and_save\" type=\"info\" plain class=\"button-submit-save\">保存并退出</el-button>\n            </div>\n          </div>\n        </el-aside>\n        <el-divider direction=\"vertical\"></el-divider>\n        <el-main>\n          <div style=\"width: 100%;display: flex\">\n            <div style=\"width: 80%\">\n              <el-button size=\"small\" type=\"text\" icon=\"el-icon-picture-outline\">插入图片</el-button>\n\n              <el-upload\n                  :http-request=\"handleUploadForm\"\n                  :before-upload=\"beforeUploadHandle\"\n                  class=\"upload-demo\"\n                  action=\"/file/upload\"\n                  multiple\n                  :limit=\"3\">\n                  <el-button size=\"small\" type=\"text\" icon=\"el-icon-folder-opened\">新建相关相册</el-button>\n              </el-upload>\n\n              <el-button size=\"small\" type=\"text\" icon=\"el-icon-box\" @click=\"drawer = true\">附件管理</el-button>\n              <el-drawer\n                  class=\"el_drawer_pics\"\n                  title=\"附件管理\"\n                  size=\"60%\"\n                  :visible.sync=\"drawer\"\n                  :with-header=\"true\">\n                <FilesManagement/>\n\n                <!--            <router-view/>-->\n              </el-drawer>\n            </div>\n            <div style=\"text-align: right;width: 18%\">\n              <el-button size=\"small\" @click=\"click_show_pic_button\" type=\"text\" icon=\"el-icon-picture-outline\">显示相册</el-button>\n            </div>\n          </div>\n          <div style=\"display: flex\">\n<!--            <el-input-->\n<!--                type=\"textarea\"-->\n<!--                :autosize=\"{minRows:25,maxRows:30}\"-->\n<!--                placeholder=\"请输入内容\"-->\n<!--                v-model=\"articleForm.article\"-->\n<!--                show-word-limit=\"true\"-->\n<!--                clearable=\"true\"-->\n<!--                suffix-icon=\"el-icon-tickets\"-->\n<!--            >-->\n<!--            </el-input>-->\n            <mavon-editor :toolbars=\"toolbars\" @imgAdd=\"handleEditorImgAdd\" @imgDel=\"handleEditorImgDel\" style=\"height:600px\" v-model=\"value\" @change=\"change\" ref=\"md\"></mavon-editor>\n            <div v-if=\"show.show_pic_div\" class=\"div-pics\">\n              123\n            </div>\n          </div>\n        </el-main>\n      </el-container>\n    </el-container>\n\n  </div>\n</template>\n<script>\nimport FilesManagement from \"@/components/FilesManagement.vue\";\nexport default {\n  name: \"EditDiaryView\",\n  props:{\n    diary_id: String\n  },\n  components:{\n    FilesManagement\n  },\n  data() {\n    return {\n      toolbars: {\n        bold: true, // 粗体\n        italic: true, // 斜体\n        header: true, // 标题\n        underline: true, // 下划线\n        strikethrough: true, // 中划线\n        mark: true, // 标记\n        superscript: true, // 上角标\n        subscript: true, // 下角标\n        quote: true, // 引用\n        ol: true, // 有序列表\n        ul: true, // 无序列表\n        link: true, // 链接\n        imagelink: true, // 图片链接\n        code: false, // code\n        table: true, // 表格\n        fullscreen: true, // 全屏编辑\n        readmodel: true, // 沉浸式阅读\n        htmlcode: true, // 展示html源码\n        help: true, // 帮助\n        /* 1.3.5 */\n        undo: true, // 上一步\n        redo: true, // 下一步\n        trash: true, // 清空\n        save: true, // 保存（触发events中的save事件）\n        /* 1.4.2 */\n        navigation: true, // 导航目录\n        /* 2.1.8 */\n        alignleft: true, // 左对齐\n        aligncenter: true, // 居中\n        alignright: true, // 右对齐\n        /* 2.2.1 */\n        subfield: true, // 单双栏模式\n        preview: true, // 预览\n      },\n      articleForm: {\n        id: null,\n        manager_id:null,\n        title: '',\n        create_date: new Date(),\n        article: '',\n        info: '',\n        color: '',\n        weather: '',\n        score: 0,\n        collection: 0,\n        shit: 0\n      },\n      icons:{\n        collection: 'el-icon-star-off',\n        date: 'el-icon-date',\n        shit: 'el-icon-help',\n        weather: 'el-icon-cloudy-and-sunny'\n      },\n      istyle:{\n        collection: 'margin-left: 10px;width:50px;height:50px',\n        date: 'margin-left:0px',\n        shit: '',\n        weather: '',\n        colors:{\n          oragne: 'background-color: coral',\n          green: 'background-color: greenyellow',\n          purple: 'background-color: violet',\n          gray: 'background-color: gray',\n          yellow: 'background-color: yellow',\n          pure: 'background-color: #fff'\n        }\n      },\n      show:{\n        show_pic_div: false\n      },\n      value1: null,\n      value2: null,\n      value3: new Date(),\n      show_date: false,\n      show_weather: false,\n      drawer: false,\n      article: ''\n    }\n  },\n  mounted() {\n    this.mounted_edit_diary();\n  },\n  methods:{\n    change(value, render) {\n      this.html = render;\n      this.blogInfo.blogMdContent = value;\n      this.blogInfo.blogContent = render;\n    },\n    //上传图片接口pos 表示第几个图片\n    handleEditorImgAdd(pos , $file){\n      var formdata = new FormData();\n      formdata.append('file' , $file);\n      this.$axios\n          .post(\"http://localhost:8000/blogs/image/upload/\", formdata)\n          .then(res => {\n            var url = res.data.data;\n            this.$refs.md.$img2Url(pos, url);  //这里就是引用ref = md 然后调用$img2Url方法即可替换地址\n          });\n    },\n    handleEditorImgDel(){\n      console.log('handleEditorImgDel');    //我这里没做什么操作，后续我要写上接口，从七牛云CDN删除相应的图片\n    },\n    beforeUploadHandle(){\n    },\n    handleUploadForm(param){\n      let formData = new FormData()\n      // 在formData中加入我们需要的参数\n      formData.append('file', param.file)\n      formData.append('diary_id', 1)\n      alert(\"xxx1\")\n      // 向后端发送数据\n      this.postRequest('/file/upload', formData).then((res) => {\n        alert(\"xxx1\")\n        if (res.code === 200) {\n          this.$message.success('修改信息成功')\n        } else {\n          this.$message.success('修改信息失败')\n        }\n        this.formFileList = []\n        this.uploadFormFileList = []\n      })\n    },\n    click_out_without_save(){\n      this.$confirm('检测到未保存的内容，是否在离开页面前保存修改？', '确认信息', {\n        distinguishCancelAndClose: true,\n        confirmButtonText: '保存',\n        cancelButtonText: '放弃修改'\n      })\n          .then(() => {\n            this.$message({\n              type: 'info',\n              message: '保存修改'\n            });\n            this.$store.commit('show_editor_page_false');\n          })\n\n          .catch(action => {\n            this.$message({\n              type: 'info',\n              message: action === 'cancel'\n                  ? '放弃保存并离开页面'\n                  : '停留在当前页面'\n            })\n            this.$store.commit('show_editor_page_false');\n          });\n\n    },\n    click_show_pic_button(){\n      this.show.show_pic_div = !this.show.show_pic_div;\n    },\n    mounted_edit_diary(){\n      if(this.diary_id != ''){\n        this.getRequest('/diary/article/'+this.$route.query.did).then(resp=>{\n          if (resp){\n            // alert(JSON.stringify(resp.data.obj));\n            this.articleForm = resp.obj;\n          }\n        })\n      }\n    },\n    // 点击了日期按钮\n    click_show_date(){\n      if(this.show_date ==true){\n        this.show_date = false;\n        this.icons.date = 'el-icon-date';\n        this.istyle.date = 'margin-left:0px';\n      }else{\n        this.icons.date = 'el-icon-loading';\n        this.istyle.date = 'margin-left:0px;background-color:#cfe6ff;border:#409EFF 1px solid;color:#ff7f50'\n        this.show_date = true;\n      }\n    },\n    // 点击了天气按钮\n    click_show_weather(){\n      if(this.show_weather == true){\n        this.show_weather = false;\n        this.icons.weather = 'el-icon-cloudy-and-sunny';\n        this.istyle.weather = '';\n      }else{\n        this.show_weather = true;\n        this.icons.weather = 'el-icon-sunny';\n        this.istyle.weather = 'background-color:#cfe6ff;border:#409EFF 1px solid;color:#ff7f50';\n      }\n    },\n    // 点击了收藏按钮\n    click_collect(){\n      this.articleForm.shit = 0;\n      this.istyle.shit = '';\n      if(this.articleForm.collection == 1){\n        this.articleForm.collection = 0;\n        this.icons.collection = 'el-icon-star-off';\n        this.istyle.collection = '';\n      }else{\n        this.articleForm.collection = 1;\n        this.icons.collection = 'el-icon-star-on';\n        this.istyle.collection = 'background-color:#cfe6ff;border:#409EFF 1px solid;color:#ff7f50';\n      }\n    },\n    click_shit(){\n      this.articleForm.collection = 0;\n      this.istyle.collection = '';\n      this.icons.collection = 'el-icon-star-off';\n      if(this.articleForm.shit == 1){\n        this.articleForm.shit = 0;\n        this.istyle.shit = '';\n      }else{\n        this.articleForm.shit = 1;\n        this.istyle.shit = 'background-color:#cfe6ff;border:#409EFF 1px solid;color:#ff7f50';\n      }\n    },\n    // 功能按钮\n    goBack(){\n      this.$router.push('/');\n    },\n    click_submit(){\n      this.postRequest('/diary/insert',this.articleForm).then(resp=>{\n        if(resp){\n          // alert(resp.data.code);\n          // alert(JSON.stringify(this.articleForm));\n          if(resp.data.code == 200) {\n            this.articleForm = resp.data.obj;\n            // alert(JSON.stringify(resp.data.obj));\n            // alert(resp.message);\n          }\n        }\n      })\n    },\n    color_orange(){\n      this.init_color();\n      this.istyle.colors.oragne='background-color: coral; box-shadow: 0 0 8px red;';\n      this.articleForm.color='coral';\n    },\n    color_green(){\n      this.init_color();\n      this.istyle.colors.green='background-color: greenyellow;box-shadow: 0 0 8px green;';\n      this.articleForm.color='greenyellow';\n    },\n    color_purple(){\n      this.init_color();\n      this.istyle.colors.purple='background-color: violet;box-shadow: 0 0 8px purple;';\n      this.articleForm.color='violet';\n    },\n    color_gray(){\n      this.init_color();\n      this.istyle.colors.gray='background-color: gray;   box-shadow: 0 0 8px gray;';\n      this.articleForm.color='gray';\n    },\n    color_yellow(){\n      this.init_color();\n      this.istyle.colors.yellow='background-color: yellow;box-shadow: 0 0 8px gray;';\n      this.articleForm.color='yellow';\n    },\n    color_pure(){\n      this.init_color();\n      this.articleForm.color='';\n    },\n    init_color(){\n      this.istyle.colors.oragne='background-color: coral';\n      this.istyle.colors.green='background-color: greenyellow';\n      this.istyle.colors.purple='background-color: violet';\n      this.istyle.colors.gray='background-color: gray';\n      this.istyle.colors.yellow='background-color: yellow';\n      this.istyle.colors.pure='background-color: #fff';\n    },\n    click_weather(weather){\n      this.articleForm.weather = weather;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.div_1{\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  /*background-color: blanchedalmond;*/\n}\n.header_1{\n  margin-top: 20px;\n}\n.input-title{\n  width: 100%;\n  border: lightslategray 1px solid;\n  border-radius: 5px;\n}\n.class-aside-out{\n  width: 250px;\n  padding: 30px;\n  /*background-color: coral;*/\n}\n.el-divider--vertical{\n  display: inline-block;\n  width: 1px;\n  height: 800px;\n  margin: 0 8px;\n  vertical-align: middle;\n  position: relative;\n}\n.button_color{\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  padding: 5px;\n  /*border: black .1px solid;*/\n}\n.button-submit{\n  width: 100%;\n}\n.button-submit-nosave{\n  width: 50%;\n}\n.button-submit-save{\n  width: 50%;\n}\n\n.el-date /deep/  .el-calendar-table .el-calendar-day{\n  width: 60px;\n  height: 40px;\n}\n.el_drawer_pics{\n}\n.div_weather{\n  margin-top: 15px;\n  background-color: #c3dad9;\n  padding: 10px 10px 10px 13px;\n  border-radius: 10px;\n}\n.button_weather{\n  border-radius: 50%;\n  width: 27px;\n  height: 27px;\n  padding: 5px;\n}\n.button_4 {\n  margin-left: 10px;\n  width: 50px;\n  height: 50px;\n  font-size: 18px;\n  border-radius: 15px;\n}\n.el-divider--horizontal {\n  display: block;\n  height: 1px;\n  width: 70%;\n  margin: 24px 14%;\n  /*background-color: orange;*/\n  /*box-shadow: 0 0 5px orange;*/\n}\n.div-pics{\n  width: 30%;\n  border: #333333 1px solid;\n  border-radius: 5px;\n  margin-left: 10px;\n  /*margin-right: 10px;*/\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
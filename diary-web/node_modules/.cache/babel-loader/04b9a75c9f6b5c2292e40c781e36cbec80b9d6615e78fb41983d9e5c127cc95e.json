{"ast":null,"code":"import { h } from \"vue\";\nexport default {\n  name: \"ViewImage\",\n  props: {\n    images: []\n  },\n  mounted() {\n    this.mounted_image(this.images[1]);\n  },\n  computed: {\n    v_model_img_name() {\n      var rname = this.images[this.i].rname;\n      return rname ? rname : this.images[this.i].name;\n    },\n    v_model_img_info() {\n      var info = this.images[this.i].info;\n      return info ? info : \"没有简介信息哦~\";\n    }\n  },\n  data() {\n    return {\n      i: 0,\n      info: '',\n      image: {\n        id: 0,\n        name: '',\n        rname: '',\n        url: '',\n        info: '',\n        user_id: 0,\n        diary_id: 0,\n        create_date: null\n      },\n      image_status: {\n        wh: 0,\n        //0是正方形的，1是横向的, 2是竖向的\n        rname: '',\n        //显示rname or name\n        range_status: true,\n        //true 代表rname不为空，false代表rname为空\n        info: '',\n        info_status: true // true代表info不为空，false代表info为空\n      }\n    };\n  },\n\n  methods: {\n    mounted_image(image) {\n      this.image = image;\n      console.log(this.image); // 输出内容\n\n      let imgsrc = image.url;\n      let imgwh = new Image();\n      imgwh.src = imgsrc;\n      let width = imgwh.width;\n      let height = imgwh.height;\n      console.log(imgwh.width + ':' + imgwh.height + '-----' + image.url);\n      // 横向竖向\n      if (width > height) {\n        this.image_status.wh = 1;\n      } else if (width < height) {\n        this.image_status.wh = 2;\n      }\n\n      // 名称\n      if (image.rname) {\n        this.image_status.rname = image.rname;\n      } else {\n        this.image_status.rname = image.name;\n      }\n      // 简介信息\n      if (image.info) {\n        this.image_status.info = image.info;\n      } else {\n        this.image_status.info = \"没有简介信息哦~\";\n      }\n    },\n    image_proportion(i) {\n      let imgSrc = i.url;\n      let img = new Image();\n      img.src = imgSrc;\n      console.log(img.width + ':' + img.height + '-----' + i.url);\n    },\n    clicklast(image) {\n      this.i--;\n      this.image_proportion(image);\n    },\n    clicknext(image) {\n      this.i++;\n      this.image_proportion(image);\n    }\n  }\n};","map":{"version":3,"mappings":"AAoCA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAX;QACAY;QACAC;QACAJ;QACAK;QACAC;QACAC;MACA;MACAC;QACAC;QAAA;QACAN;QAAA;QACAO;QAAA;QACAV;QACAW;MAEA;IACA;EACA;;EACAC;IACAC;MACA;MACAC;;MAEA;MACA;MACAC;MACA;MACA;MACAD;MACA;MACA;QACA;MACA;QACA;MACA;;MAEA;MACA;QACA;MACA;QACA;MACA;MACA;MACA;QACA;MACA;QACA;MACA;IAEA;IACAE;MACA;MACA;MACAC;MACAH;IACA;IACAI;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA","names":["name","props","images","mounted","computed","v_model_img_name","v_model_img_info","data","i","info","image","id","rname","url","user_id","diary_id","create_date","image_status","wh","range_status","info_status","methods","mounted_image","console","imgwh","image_proportion","img","clicklast","clicknext"],"sourceRoot":"src/components","sources":["ViewImage.vue"],"sourcesContent":["<template>\n    <el-dialog width=\"35%\" title=\"查看图片\" visible=\"true\">\n        <div class=\"div-out-width\" v-for=\"(image,index) in images\">\n          <div class=\"div-image-out-h\">\n              <img class=\"image-view-h\" v-show=\"index == i\" :src=\"image.url\"/>\n              <!--放图片信息与按钮的div-->\n              <div v-show=\"index==i\" style=\"width: 25%;padding:10px 0\">\n\n                <div style=\"width: 100%;margin-left: 5px\">\n                  <div style=\"width: 100%;border-bottom: #999999 0.1px solid;padding-bottom: 3px;\">\n                    <h1>{{image.rname?image.rname:image.name}}</h1>\n                  </div>\n                  <div style=\"width: 100%;border-bottom: #999999 0.1px solid;padding-bottom: 3px\">\n                    <h4>创建时间</h4>\n                    <span>{{ image.create_date }}</span>\n                  </div>\n                  <div style=\"width: 100%;border-bottom: #999999 0.1px solid;padding-bottom: 3px\">\n                    <h4>简介</h4>\n                    <span>{{image.info?image.info:\"没有简介信息哦～\"}}</span>\n                  </div>\n                </div>\n\n                <div slot=\"footer\" v-show=\"index==i\" class=\"button-flooter\">\n                  <el-button @click=\"clicklast(image,1)\" :disabled=\"i<=0\" type=\"primary\" style=\"border-radius: 20px 0 0 20px;\" size=\"small\" icon=\"el-icon-arrow-left\">上一页</el-button>\n                  <el-button @click=\"clicknext(image,2)\"  :disabled=\"i>=images.length -1\" type=\"primary\" style=\"border-radius: 0 20px 20px 0;\" size=\"small\">下一页<i class=\"el-icon-arrow-right el-icon--right\"></i></el-button>\n                </div>\n        <!--        <el-button-group style=\"margin: 30px 7% 0 8%\">-->\n        <!--          -->\n        <!--        </el-button-group>-->\n              </div>\n          </div>\n        </div>\n    </el-dialog>\n</template>\n\n<script>\nimport {h} from \"vue\";\n\nexport default {\n  name: \"ViewImage\",\n  props:{\n    images:[]\n  },\n  mounted() {\n    this.mounted_image(this.images[1]);\n  },\n  computed:{\n    v_model_img_name(){\n      var rname =this.images[this.i].rname;\n      return rname?rname:this.images[this.i].name\n    },\n    v_model_img_info(){\n      var info =this.images[this.i].info;\n      return info?info:\"没有简介信息哦~\"\n    }\n  },\n  data(){\n    return{\n      i: 0,\n      info:'',\n      image:{\n        id: 0,\n        name: '',\n        rname:'',\n        url:'',\n        info:'',\n        user_id:0,\n        diary_id:0,\n        create_date:null,\n      },\n      image_status:{\n        wh: 0, //0是正方形的，1是横向的, 2是竖向的\n        rname:'', //显示rname or name\n        range_status: true, //true 代表rname不为空，false代表rname为空\n        info:'',\n        info_status: true // true代表info不为空，false代表info为空\n\n      }\n    }\n  },\n  methods:{\n    mounted_image(image){\n      this.image = image;\n      console.log(this.image); // 输出内容\n\n      let imgsrc = image.url;\n      let imgwh = new Image();\n      imgwh.src = imgsrc;\n      let width  = imgwh.width;\n      let height = imgwh.height;\n      console.log(imgwh.width + ':' +imgwh.height+'-----'+image.url);\n      // 横向竖向\n      if(width > height){\n        this.image_status.wh = 1;\n      }else if(width < height){\n        this.image_status.wh = 2;\n      }\n\n      // 名称\n      if(image.rname){\n        this.image_status.rname = image.rname\n      }else{\n        this.image_status.rname = image.name\n      }\n      // 简介信息\n      if(image.info){\n        this.image_status.info = image.info;\n      }else{\n        this.image_status.info = \"没有简介信息哦~\"\n      }\n\n    },\n    image_proportion(i){\n      let imgSrc= i.url;\n      let img = new Image();\n      img.src= imgSrc;\n      console.log(img.width + ':' +img.height+'-----'+i.url);\n    },\n    clicklast(image){\n      this.i --;\n      this.image_proportion(image);\n    },\n    clicknext(image){\n      this.i++;\n      this.image_proportion(image);\n    }\n  }\n}\n</script>\n\n<style scoped>\n/*横向的图片*/\n.div-image-out-w{\n  display: flex;\n  width:100%;\n}\n.div-image-out-h{\n  display: flex;\n  width:100%;\n}\n.div-out-width{\n  width:100%;\n  /*background-color: #42b983;*/\n}\n.button-flooter{\n  margin: 20px 0 0 0 ;\n  text-align: right;\n}\n.input-img-name>>>.el-input__inner {\n  border: 0;\n  color:red;\n  font-size: 24px;\n  font-weight: 1000;\n}\n\n.input-img-name>>>.el-textarea__inner {\n  border: 0;\n  color: #ff9900;\n  resize: none;\n  font-size: 24px;\n  font-weight: 1000;\n  padding: 0;\n\n}\n/* 如果你的 el-input type 设置成textarea ，就要用这个了 */\n.input-img-info>>>.el-textarea__inner {\n  border: 0;\n  color: #868686;\n  padding: 0;\n}\n.el-dialog__body {\n  padding: 30px 20px;\n  color: #606266;\n  font-size: 14px;\n  word-break: break-all;\n}\n\n.image-view-w{\n  border: #999999 0.1px solid;\n  padding:10px;\n  width: 75%;\n  height: 0%;\n}\n\n.image-view-h{\n  border: #999999 0.1px solid;\n  padding:10px;\n  width: auto;\n  height: 600px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
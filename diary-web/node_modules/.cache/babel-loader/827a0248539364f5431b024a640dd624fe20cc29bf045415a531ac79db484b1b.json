{"ast":null,"code":"import { getRequest } from \"@/utils/api\";\nexport default {\n  name: \"DiaryView\",\n  data() {\n    return {\n      input: '',\n      reverse: true,\n      directories: [],\n      diaryForm: {\n        id: null,\n        info: '',\n        title: null,\n        article: '',\n        create_date: null,\n        update_date: null,\n        color: '',\n        weather: '',\n        score: null,\n        collection: null,\n        shit: null,\n        delete: null,\n        manager_id: null\n      },\n      count: 0\n    };\n  },\n  mounted() {\n    this.getDirectory();\n  },\n  methods: {\n    load() {\n      this.count += 2;\n    },\n    goNewDiary() {\n      this.$router.replace('/newDiary');\n    },\n    clickTest() {\n      this.getRequest('/diary/getArticle/2').then(resp => {\n        if (resp) {\n          alert(JSON.stringify(resp));\n        }\n      });\n    },\n    getDirectory() {\n      this.getRequest('/diary/directory').then(resp => {\n        if (resp) {\n          var maxlen = 7;\n          for (var i = 0, len = resp.data.length; i < len; i++) {\n            if (resp.data[i].title.length >= maxlen) {\n              resp.data[i].title = resp.data[i].title.substring(0, maxlen) + ' ···';\n            }\n          }\n          this.directories = resp.data;\n        }\n      });\n    },\n    clickDiaryName(id) {\n      this.getRequest('/diary/article/' + id).then(resp => {\n        if (resp) {\n          this.diaryForm = resp.data.obj;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA0EA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;UACAC;QACA;MACA,EACA;IACA;IACAC;MACA;QACA;UACA;UACA;YACA;cACAC;YACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","input","reverse","directories","diaryForm","id","info","title","article","create_date","update_date","color","weather","score","collection","shit","delete","manager_id","count","mounted","methods","load","goNewDiary","clickTest","alert","getDirectory","resp","clickDiaryName"],"sourceRoot":"src/views","sources":["DiaryView.vue"],"sourcesContent":["<template>\n  <div style=\"background-size: cover;height: 100%;\">\n    <el-container>\n\n      <el-header class=\"aheader_1\">\n        <el-input  class=\"input_search\" size=\"small\" suffix-icon=\"el-icon-search\" v-model=\"input\" placeholder=\"看看那天的你在做什么？\"></el-input>\n      </el-header>\n      <el-container class=\"aheader_2\">\n        <div class=\"div2_1\">\n          <el-button class=\"button1\" size=\"small\" icon=\"el-icon-date\"></el-button>\n          <el-button class=\"button2\" size=\"small\" icon=\"el-icon-price-tag\"></el-button>\n          <el-button class=\"button2\" size=\"small\" icon=\"el-icon-star-off\"></el-button>\n        </div>\n        <div class=\"div2_3\">\n          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-circle-plus-outline\" class=\"button_xx2\" @click=\"goNewDiary\">新建文章</el-button>\n          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-setting\" class=\"button_xx2\">设置</el-button>\n          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-setting\" class=\"button_xx2\" @click=\"clickTest\">测试</el-button>\n          <el-button type=\"danger\" size=\"small\" icon=\"el-icon-bicycle\" class=\"button_xx1\">退出</el-button>\n        </div>\n      </el-container>\n      <el-container>\n        <el-aside class=\"aside\">\n\n          <div class=\"div2_2\">\n\n            <div class=\"div2_4\">\n              <el-timeline :reverse=\"reverse\" class=\"timeline\" >\n                <el-timeline-item\n                    v-for=\"(directory, index) in directories\"\n                    :key=\"index\"\n                    :timestamp=\"directory.create_date\">\n                  <div class=\"div2_5\">\n                    <el-button style=\"color: gray;margin-top: 0\" type=\"text\" @click=\"clickDiaryName(directory.id)\">\n                      {{directory.title}}\n                    </el-button>\n\n                    <el-button class=\"button_color\">\n\n                    </el-button>\n                    <el-button class=\"button_colletcion\" type=\"text\" icon=\"el-icon-star-off\">\n\n                    </el-button>\n                  </div>\n                </el-timeline-item>\n              </el-timeline>\n            </div>\n          </div>\n        </el-aside>\n\n        <el-main style=\"margin-top: -10px\">\n          <el-container>\n            <el-main style=\"margin-top: -30px\">\n              <el-card class=\"article-card\">\n                <div slot=\"header\" class=\"clearfix\">\n                  <span class=\"article_title\">{{this.diaryForm.title}}</span>\n                  <span class=\"article_date\">2022-12-31</span>\n                  <el-button icon=\"el-icon-delete\" style=\"color:red;font-size:20px;float: right; padding: 3px 0;margin-left: 10px\" type=\"text\"></el-button>\n                  <el-button icon=\"el-icon-edit\" style=\"font-size:20px;float: right; padding: 3px 0\" type=\"text\"></el-button>\n                  <el-button icon=\"el-icon-full-screen\" style=\"font-size:20px;float: right; padding: 3px 0\" type=\"text\"></el-button>\n                </div>\n                <div class=\"text item\">\n                  {{this.diaryForm.article}}\n                </div>\n              </el-card>\n            </el-main>\n          </el-container>\n        </el-main>\n      </el-container>\n\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport {getRequest} from \"@/utils/api\";\nexport default {\n  name: \"DiaryView\",\n  data() {\n    return {\n      input: '',\n      reverse: true,\n      directories: [],\n      diaryForm:{\n        id:null,\n        info:'',\n        title:null,\n        article:'',\n        create_date:null,\n        update_date:null,\n        color:'',\n        weather:'',\n        score:null,\n        collection:null,\n        shit:null,\n        delete:null,\n        manager_id:null\n      },\n      count: 0\n    }\n  },\n  mounted(){\n    this.getDirectory();\n  },\n  methods:{\n    load () {\n      this.count += 2\n    },\n    goNewDiary(){\n      this.$router.replace('/newDiary')\n    },\n    clickTest(){\n      this.getRequest('/diary/getArticle/2').then(resp=>{\n        if(resp){\n          alert(JSON.stringify(resp));\n        }\n      }\n      )\n    },\n    getDirectory(){\n      this.getRequest('/diary/directory').then(resp=>{\n        if(resp){\n          var maxlen = 7;\n          for(var i=0,len=resp.data.length;i<len;i++){\n            if(resp.data[i].title.length >=maxlen){\n              resp.data[i].title= resp.data[i].title.substring(0,maxlen)+' ···';\n            }\n          }\n          this.directories = resp.data;\n        }\n      })\n    },\n    clickDiaryName(id){\n      this.getRequest('/diary/article/'+id).then(resp=>{\n        if(resp){\n          this.diaryForm = resp.data.obj;\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.div2_2{\n  margin: 40px 0px 25px 30px;\n  width: 260px;\n  height: 85%;\n  overflow:auto;\n  /*background-color: #f6f6f6;*/\n  border-radius: 15px;\n  padding: 10px 0;\n  text-overflow:ellipsis;\n  box-shadow: 0 0 10px black;\n}\n.div2_4{\n  width: 100%;\n  background-color: #f6f6f6;\n}\n.div1{\n  text-align: center;\n}\n.aheader_1{\n  text-align: center;\n  margin-top: 10px;\n}\n.aheader_2{\n  margin-top: 5px;\n}\n.div2_1{\n  width: 48%;\n  margin-left: 20px;\n  text-align: left;\n}\n.div2_3{\n  width: 48%;\n  margin-left: 20px;\n  text-align: right;\n}\n.div2_5{\n  padding: 3px;\n  background-color: #42b983;\n  height: 30px;\n}\n.input_search{\n  width: 95%;\n  height: 15px;\n  margin-top: 15px;\n  border: black;\n  margin-right: 10px;\n}\n.button_search{\n  width: 8%;\n}\n.button1{\n  border-radius: 10px;\n  margin: 0 0px 0px 35px;\n  width: 50px;\n}\n.button2{\n  border-radius: 10px;\n  margin: 0 0px 0px 15px;\n  width: 50px;\n}\n.button_xx1{\n  margin-right: 40px;\n  border-radius: 10px;\n}\n.button_xx2{\n  border-radius: 10px;\n}\n.button_xx{\n  border-radius: 15px;\n}\n.input_search>>>.el-input__inner { /*或者 .s2>>>.el-input__inner  */\n  border-radius: 20px; /*输入框圆角值*/\n}\n\n.aside{\n  margin-top: -10px;\n  margin-left: 20px;\n  width: 200px;\n  /*background-color: beige;*/\n  height: 850px;\n  border-radius: 20px;\n}\n.article-card{\n  margin-top: 20px;\n  margin-left: -20px;\n}\n.article_title{\n  font-size: 25px;\n  font-weight: 800;\n}\n.article_date{\n  font-size: medium;\n  font-weight: 400;\n  color: gray;\n  margin-left: 15px;\n}\n.timeline{\n  margin-top: 10px;\n}\n.button_color{\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  padding: 5px;\n  margin: -10px 0 0 10px;\n}\n.button_colletcion{\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  padding: 5px;\n  margin: -10px 0 0 10px;\n  color: grey;\n\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"export default {\n  name: \"DiaryView\",\n  data() {\n    return {\n      input: '',\n      reverse: true,\n      directories: [],\n      score: null,\n      diaryForm: {\n        id: null,\n        info: '',\n        title: null,\n        article: '',\n        create_date: null,\n        update_date: null,\n        color: '',\n        weather: '',\n        score: null,\n        collection: null,\n        shit: null,\n        delete: null,\n        manager_id: null\n      },\n      count: 0,\n      icons: {\n        order: 'el-icon-bottom',\n        // 向下箭头\n        iconClasses: ['icon-rate-face-1', 'icon-rate-face-2', 'icon-rate-face-3']\n      },\n      show: {\n        show_color: false,\n        show_aside_title: true\n      },\n      colors: {\n        face: ['#99A9BF', '#F7BA2A', '#FF9900']\n      },\n      max: 7,\n      value: null\n    };\n  },\n  mounted() {\n    this.getDirectory();\n  },\n  methods: {\n    load() {\n      this.count += 2;\n    },\n    goNewDiary() {\n      this.$router.replace('/newDiary');\n    },\n    clickTest() {\n      this.getRequest('/diary/getArticle/2').then(resp => {\n        if (resp) {\n          alert(JSON.stringify(resp));\n        }\n      });\n    },\n    getDirectory() {\n      this.getRequest('/diary/directory/all').then(resp => {\n        if (resp) {\n          this.makeDirectories(resp, this.max);\n        }\n      });\n    },\n    clickDiaryName(id) {\n      this.getRequest('/diary/article/' + id).then(resp => {\n        if (resp) {\n          this.diaryForm = resp.data.obj;\n        }\n      });\n    },\n    click_order() {\n      if (this.reverse == true) {\n        this.reverse = false;\n        this.icons.order = 'el-icon-top';\n      } else {\n        this.reverse = true;\n        this.icons.order = 'el-icon-bottom';\n      }\n    },\n    click_show_color() {\n      this.show.show_color = !this.show.show_color;\n    },\n    click_button_color(color) {\n      if (color == '#fff') {\n        this.getDirectory();\n      }\n      this.getRequest('/diary/directory/color/' + color).then(resp => {\n        this.makeDirectories(resp, this.max);\n      });\n    },\n    makeDirectories(resp, max) {\n      for (var i = 0, len = resp.data.length; i < len; i++) {\n        if (resp.data[i].title.length >= max) {\n          resp.data[i].title = resp.data[i].title.substring(0, max) + ' ···';\n        }\n      }\n      this.directories = resp.data;\n    },\n    click_collection() {\n      this.getRequest('/diary/directory/collection').then(resp => {\n        if (resp) {\n          this.makeDirectories(resp, this.max);\n        }\n      });\n    },\n    click_rate() {\n      alert(this.score);\n    }\n  }\n};","map":{"version":3,"mappings":"AA2FA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAT;QACAU;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;QACAC;QAAA;QACAC;MACA;MACAC;QACAC;QACAC;MACA;MACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;UACAC;QACA;MACA,EACA;IACA;IACAC;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACAT;IACA;EACA;AACA","names":["name","data","input","reverse","directories","score","diaryForm","id","info","title","article","create_date","update_date","color","weather","collection","shit","delete","manager_id","count","icons","order","iconClasses","show","show_color","show_aside_title","colors","face","max","value","mounted","methods","load","goNewDiary","clickTest","alert","getDirectory","clickDiaryName","click_order","click_show_color","click_button_color","makeDirectories","resp","click_collection","click_rate"],"sourceRoot":"src/views","sources":["DiaryView.vue"],"sourcesContent":["<template>\n  <div style=\"background-size: cover;height: 100%;\">\n    <el-container>\n\n      <el-header class=\"aheader-1\">\n        <el-input  class=\"input_search\" size=\"small\" suffix-icon=\"el-icon-search\" v-model=\"input\" placeholder=\"看看那天的你在做什么？\"></el-input>\n      </el-header>\n      <el-container class=\"aheader-2\">\n        <div class=\"header2-1\">\n          <el-button class=\"button1\" size=\"small\" icon=\"el-icon-date\"></el-button>\n          <el-button @click=\"click_show_color\" class=\"button2\" size=\"small\" icon=\"el-icon-price-tag\"></el-button>\n          <el-button @click=\"click_collection\" class=\"button2\" size=\"small\" icon=\"el-icon-star-off\"></el-button>\n          <el-button @click=\"click_order\" class=\"button2\" size=\"small\" :icon=\"icons.order\"></el-button>\n        </div>\n        <div class=\"header2-2\">\n          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-circle-plus-outline\" class=\"button-header2-rignt-2\" @click=\"goNewDiary\">新建文章</el-button>\n          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-setting\" class=\"button-header2-rignt-2\">设置</el-button>\n          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-setting\" class=\"button-header2-rignt-2\" @click=\"clickTest\">测试</el-button>\n          <el-button type=\"danger\" size=\"small\" icon=\"el-icon-bicycle\" class=\"button-header2-rignt-1\">退出</el-button>\n        </div>\n      </el-container>\n      <el-container>\n        <el-aside class=\"aside-out\">\n          <div class=\"aside2-1\">\n            <div v-if=\"show.show_aside_title\" class=\"aside-title\">\n              <h1>我的日记</h1>\n            </div>\n<!--            v-if=\"this.show.show_color\"-->\n            <div v-if=\"false\" class=\"chose-color\">\n              <el-button size=\"small\" @click=\"click_button_color('coral')\" class=\"button-5-color\" style=\"background-color: coral\"></el-button>\n              <el-button size=\"small\" @click=\"click_button_color('greenyellow')\"  class=\"button-5-color\" style=\"background-color: greenyellow\"></el-button>\n              <el-button size=\"small\" @click=\"click_button_color('violet')\" class=\"button-5-color\" style=\"background-color: violet\"></el-button>\n              <el-button size=\"small\" @click=\"click_button_color('gray')\"   class=\"button-5-color\" style=\"background-color: gray\"></el-button>\n              <el-button size=\"small\" @click=\"click_button_color('yellow')\" class=\"button-5-color\" style=\"background-color: yellow\"></el-button>\n              <el-tooltip content=\"取消颜色查找\" placement=\"bottom\" effect=\"light\">\n                <el-button size=\"small\" @click=\"click_button_color('#fff')\" class=\"button-5-color\" style=\"background-color: #fff;width: 65px\"></el-button>\n              </el-tooltip>\n            </div>\n            <div v-if=\"true\" class=\"chose-color\" style=\"padding: 5px 0;\">\n              <el-rate v-model=\"score\"></el-rate>\n              <el-tooltip content=\"查找\" placement=\"bottom\" effect=\"light\">\n                <el-button size=\"small\" @click=\"click_rate('#fff')\" class=\"button-5-color\" style=\"background-color: #fff;width: 65px\"></el-button>\n              </el-tooltip>\n            </div>\n\n            <div class=\"div2_4\">\n              <el-timeline :reverse=\"reverse\">\n                <el-timeline-item\n                    v-for=\"(directory, index) in directories\"\n                    :key=\"index\"\n                    :color=\"directory.color\">\n<!--                  :timestamp=\"directory.create_date\"-->\n                  <div class=\"div2_5\">\n\n                    <el-button style=\"color: gray;margin-top: -10px\" type=\"text\" @click=\"clickDiaryName(directory.id)\">\n                      <span style=\"color: black\">{{directory.title}}</span>\n                    </el-button>\n                    <el-button v-if=\"directory.collection==1\" type=\"text\" class=\"button_colletcion\" icon=\"el-icon-star-on\"></el-button>\n                  </div>\n                  <span style=\"color: grey\">{{directory.create_date}}</span>\n                </el-timeline-item>\n              </el-timeline>\n            </div>\n          </div>\n        </el-aside>\n\n        <el-main class=\"main-out\">\n          <el-container>\n            <el-main style=\"margin-top: -30px\">\n              <el-card class=\"article-card\">\n                <div slot=\"header\">\n                  <span class=\"article_title\">{{this.diaryForm.title}}</span>\n                  <span class=\"article_date\">2022-12-31</span>\n                  <el-button icon=\"el-icon-delete\" style=\"color:red;font-size:20px;float: right; padding: 3px 0;margin-left: 10px\" type=\"text\"></el-button>\n                  <el-button icon=\"el-icon-edit\" style=\"font-size:20px;float: right; padding: 3px 0\" type=\"text\"></el-button>\n                  <el-button icon=\"el-icon-full-screen\" style=\"font-size:20px;float: right; padding: 3px 0\" type=\"text\"></el-button>\n                </div>\n                <div class=\"text item\">\n                  {{this.diaryForm.article}}\n                </div>\n              </el-card>\n            </el-main>\n          </el-container>\n        </el-main>\n      </el-container>\n\n    </el-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"DiaryView\",\n  data() {\n    return {\n      input: '',\n      reverse: true,\n      directories: [],\n      score:null,\n      diaryForm:{\n        id:null,\n        info:'',\n        title:null,\n        article:'',\n        create_date:null,\n        update_date:null,\n        color:'',\n        weather:'',\n        score:null,\n        collection:null,\n        shit:null,\n        delete:null,\n        manager_id:null\n      },\n      count: 0,\n      icons:{\n        order: 'el-icon-bottom', // 向下箭头\n        iconClasses: ['icon-rate-face-1', 'icon-rate-face-2', 'icon-rate-face-3']\n      },\n      show:{\n        show_color: false,\n        show_aside_title:true\n      },\n      colors:{\n        face:['#99A9BF', '#F7BA2A', '#FF9900']\n      },\n      max: 7,\n      value:null\n    }\n  },\n  mounted(){\n    this.getDirectory();\n  },\n  methods:{\n    load () {\n      this.count += 2\n    },\n    goNewDiary(){\n      this.$router.replace('/newDiary')\n    },\n    clickTest(){\n      this.getRequest('/diary/getArticle/2').then(resp=>{\n        if(resp){\n          alert(JSON.stringify(resp));\n        }\n      }\n      )\n    },\n    getDirectory(){\n      this.getRequest('/diary/directory/all').then(resp=>{\n        if(resp){\n          this.makeDirectories(resp,this.max);\n        }\n      })\n    },\n    clickDiaryName(id){\n      this.getRequest('/diary/article/'+id).then(resp=>{\n        if(resp){\n          this.diaryForm = resp.data.obj;\n        }\n      })\n    },\n    click_order(){\n      if(this.reverse == true){\n        this.reverse = false;\n        this.icons.order = 'el-icon-top';\n      }else{\n        this.reverse = true;\n        this.icons.order = 'el-icon-bottom';\n      }\n    },\n    click_show_color(){\n      this.show.show_color = !this.show.show_color;\n    },\n    click_button_color(color){\n      if(color == '#fff'){\n        this.getDirectory();\n      }\n      this.getRequest('/diary/directory/color/'+color).then(resp=>{\n        this.makeDirectories(resp,this.max);\n      })\n    },\n    makeDirectories(resp,max){\n      for(var i=0,len=resp.data.length;i<len;i++){\n        if(resp.data[i].title.length >=max){\n          resp.data[i].title= resp.data[i].title.substring(0,max)+' ···';\n        }\n      }\n      this.directories = resp.data;\n    },\n    click_collection(){\n      this.getRequest('/diary/directory/collection').then(resp=>{\n        if(resp) {\n          this.makeDirectories(resp,this.max);\n        }\n      })\n    },\n    click_rate(){\n      alert(this.score)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.aside2-1{\n  margin: 20px 0px 25px 15px;\n  width: 90%;\n  height: 90%;\n  background-color: #fff;\n  border-radius: 15px;\n  padding: 10px 0;\n  box-shadow: 0 0 10px black;\n}\n.div2_4{\n  overflow:auto;\n  text-overflow:ellipsis;\n  height: 85%;\n  width: 100%;\n  margin-top: 60px;\n  background-color: #f6f6f6;\n  border-top: gray 1px solid;\n  border-bottom: gray 1px solid;\n  padding: 15px 0;\n  /*box-shadow: 0px 5px 10px black inset;*/\n}\n.aheader-1{\n  text-align: center;\n  margin-top: 10px;\n}\n.aheader-2{\n  margin-top: 5px;\n}\n.header2-1{\n  width: 48%;\n  margin-left: 20px;\n  text-align: left;\n}\n.header2-2{\n  width: 48%;\n  margin-left: 20px;\n  text-align: right;\n}\n.div2_5{\n  padding: 3px;\n  /*background-color: #42b983;*/\n  height: 30px;\n  /*border-bottom: #999999 .5px solid;*/\n}\n.input_search{\n  width: 95%;\n  height: 15px;\n  margin-top: 15px;\n  border: black;\n  margin-right: 10px;\n}\n.button_search{\n  width: 8%;\n}\n.button1{\n  border-radius: 10px;\n  margin: 0 0px 0px 35px;\n  width: 50px;\n}\n.button2{\n  border-radius: 10px;\n  margin: 0 0px 0px 15px;\n  width: 50px;\n}\n.button-header2-rignt-1{\n  margin-right: 40px;\n  border-radius: 10px;\n}\n.button-header2-rignt-2{\n  border-radius: 10px;\n}\n.button_xx{\n  border-radius: 15px;\n}\n.input_search>>>.el-input__inner { /*或者 .s2>>>.el-input__inner  */\n  border-radius: 20px; /*输入框圆角值*/\n}\n\n.aside-out{\n  margin-top: 0px;\n  margin-left: 30px;\n  width: 400px;\n  /*background-color: beige;*/\n  height: 800px;\n  border-radius: 20px;\n}\n.article-card{\n  margin-top: 20px;\n  margin-left: -20px;\n}\n.article_title{\n  font-size: 25px;\n  font-weight: 800;\n}\n.article_date{\n  font-size: medium;\n  font-weight: 400;\n  color: gray;\n  margin-left: 15px;\n}\n.button-5-color{\n  border-radius: 8px;\n  width: 15px;\n  height: 15px;\n  padding: 5px;\n  margin: -10px 0 0 10px;\n  font-size: 10px;\n}\n.button_colletcion{\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n  padding: 5px;\n  margin: -10px 0 0 -10px;\n  font-size: 18px;\n  color: red;\n}\n.chose-color{\n  width: 100%;\n  background-color: #f2f2f2;\n  /*border: #999999 1px solid;*/\n  height: 30px;\n  margin-top: 10px;\n  /*margin-left: 15px;*/\n  border-radius: 7px;\n  float: left;\n}\n.main-out{\n  margin-top: -10px;\n  margin-left: 0px;\n}\n.aside-title{\n  text-align: center;\n  width: 80%;\n  /*background-color: #999999;*/\n  margin-left: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}